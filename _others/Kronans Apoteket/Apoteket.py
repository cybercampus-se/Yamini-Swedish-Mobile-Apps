import jwt
from datetime import datetime

# Replace with your actual JWT
JWT_TOKEN = "eyJ0eXBlIjoiSldUIiwiYWxnIjoiUlMyNTYifQ.eyJpYXQiOjE3NDE1MzU1NzMsImV4cCI6MTc0MTUzNzk3Mywic3ViIjoiMTk5OTA3MjYzMjIzIiwiYXVkIjpbImtyb25hbnNhcG90ZWsiXSwiaXNzIjoid3d3Lmtyb25hbnNhcG90ZWsuc2UiLCJmaXJzdE5hbWUiOiJZYW1pbmkiLCJsYXN0TmFtZSI6IkJhbGFubmFnYXJpIiwiaWRlbnRpdHlOdW1iZXIiOiIxOTk5MDcyNjMyMjMiLCJzZXNzaW9uSWQiOiI4NjhiMTgwNC05MzkyLTQ4NmMtODhiOS1lN2IxNWE3M2NlMTgiLCJ0b2tlbiI6ImV5SmxibU1pT2lKQk1USTRSME5OSWl3aVlXeG5Jam9pVWxOQkxVOUJSVkF0TlRFeUluMC5GS1Q5TDdOY2ZOZTlVMzJFMkN6OWZLNXJMWGJYMzFRT3ZucmpwQjB0Q3RQQXdDY3YyUjZrWkFValYyM1dmOVBJY1VkakNyMU5QTTFnd0NUTHRMZUFEbm9TVVNXMERQWHZLMnRZT1c0MHFVZ3YtQ0FWMFBHN0lPZXl1Y0p2U3E3dEljTi1MLUZkUDZxQV96eFAxcjg1VG1ick1NaTNwV1VkaXR1d25peEhhV0VPMy1kT2x1VGRzZmpObWdFNmVnY21sejFaLXQyQ1FNaDJMV0R2dGJTYXpqSFlUaVl6OHFVYkFSNzU2VTlBTVkxQUxXWVAwU0d6SXM4MnhLOUM5M0VwdUdSMTh0dGJnQ2MwUlJnb0pRakJrSDdWNnU5T0JSVW45Y1dmNGNCZ0JjSl9yV1pVYUtPZjJJRXI3Z3VTUm81dFRIV2MwVF9Bc2JfVUllZnRmQ1M1V2cuTjYzNm1wRWxRSUV5bEloOS40Q2VudHJCNU1xQnRSWXEwSlp6eE5kVExnU043eDk4TkhTT3BOWThvak9UR1FLTEEwMWpSUkJQRkNrb0hta1lVdUNSaHBOZEwyZ1lUMXFrUTR0TFVZY2FpbXU5c2ExMXBmVzMtb2NTb0FzZUJFTzZTOU92NkpKeWdLbHRtQ3hQckZrTWtEQUVRT044OGRsNkV4aTR3enY5WG14bzRSWVd1dDFpbGVmWTFSTFdIQk1kVk1yRWl1cHFXVjNmUGxsWEVhcE5rQ0JOSG9SV0F1RzJrRDJCRG1JcUhoQ2FQLVpTZjd2TVFsZVNWZ3d0UmVicDdlVnRMd3Y1QmVodlJ5eFlPV2tRaHNtSlROdHpjQ0RLRGUxUk00RDJHX24xMlhINmg3elV3ZlMxSy13Yy1zdmF4Y2RsWXJjWDh0b2tNS1E0S3dxdGd2Q0NPbGpwR2p3cDlMYTdkV0pDYUtCMGdHQUt5OFNranVocXlPR1VPU0c1ZmZKNE4xVHFiNTlYZlFTelRvT3JOaU1Cc05vZXV4akVSOHk4eExnR3NncjQ5TFBqXzAyeExSdG12aU1teTNhT3EyYkx3UHlEN2YzbF9nUENJeXBLRVhBb1E3dFFld25LWkkySkFMM3NwNkRURlk2LUN3LU9JUWJlTGFNNjhmRkUwMF85LUxiTkdvOWxHRlJ0MmxxYXczbzV1MEQ0NnBYY2FWbUZyeDNoZ2tQelNDQWp3dk50aUo2NTcyZVJpc2JxSHVCckQwOUZyV2ozbDB2OWt5M05zNF9oSk5SWDF1eEdHMTFTZlVYSkdPaVFtVFNIb2R0d0JDWVI4b3NyV1RDT0JzWkFGT2JmOFZLSmJJUWxNWkVwZVpOekMzdC1GNnhmeEdKN19ya2FxX0RoMFdTWnk1Njk4aVZUUnI5LUVDc2phMFFxN0FPV0s5d3hXbmN0MS15UTduMjZ2dTNNVjMzZmMtUkp1QlcyRU5KZjJ5Ull1dTJRVVhWXzhwLXlTVlVnTm15ci14QmdsRVV2U3VLYS1QOEJoZ0xxVGx3bzZsNk51TmVMMTYwWmhfejRyU0ItX0xGOGF3TGFsRGN3M29DXzl6WkRCYVFUT3FKMzk0REd4LXA4WXdLRjU2Vkd5cDljMEQ1MGk0WWZqOWJTN2hKamQxOXZJRDFVbDQ1QUxPQzY4dzVtVC1sUkwyZFVMam9iMVlkSlljSXMtWlFSb2NtNXVxa2hteERZcWV6a1pqOWtFbklPOWEwR2RFaHg1cVVhbUtBOFR3VXpsazJpSjU3MzNPdGk4aEdISVNNSkplb3RuTVNhaEpPcS1mUW8tcldQRno2Q0s3ZGdRY2htQkE1WGd4WUxVYzJYamM3VUk0Mlo2TVVrS1VFdlNuTzZoM29LNkhMNzdNNDJsTHBibnFkQVU0QU9iZUNhN1Z4Qld5N3hGRHpKOVdLR1QwaUZIVElCMDdIeEFJZTdsTGhGUmNaaTk0V1kzSGdpa1VxVmp1aktYNmUybXg2MHhEQmtEZktIeTJEUTIzQWs5SkxpNmQzV2NrQ25JRzVPTEdHQ21LRUFGOHNFUjFXVkpyXzVWRGdDcm40dDVNeXl6WkU2cUZld0I2V2g2NnZKUUZ1SzF2ZHRZUHViR1RyS3hlRUFnNmFKeUFjUExfMnJhSzY4VWRWMTRPVHdNTmQwZnpUOFU0YVg4NWFZRDNBYnZwWHZLOFd1S0p4aHdsUm9oSjdNNEExWm45TnBtQVhmeUstRDd3U3pEVEhrcGVBTFc3aDFPZWs5cUFMdElJTDhYUjVEdmFBb3dIVG01UDdjVzdaY0tpUjM1VWVhYXNMSkNySmJTdHNPdGlGY3NXQWkyTkxQaWk3VGlrdGNqRFVJU21SVGt0eHZfRWs5S1Q1NFhVVHZwampjdERwM2ozZDl1MUNDNjcxUGVLa1JGTFNZaTB6d1JiQWtqQ1BtQ1VuV1g0ajlQaE1XWFlMZ0ZidjhwNzFoUkJJczdMcUt4ekxXTkR1ZlVoRTl2aDNxYmExMmNkT21McGxORDROVXA5WHVVdlpkcFpKY3EtTTZRc0NPODl5aUszTzZjLVE0QjItWmlFc0pyWGFDczFXc1d3WE5tbVF2ZlFsNTF0Yk9WSDdFMU5KdWtwTTV2RmttbjVOeFpxb0p3dGlqNXpqTWVxR2pGSGRQMlpYTm9MUVMzWGhubXNhNjBsb3E3RHk3MkpVcGthdnhHcGtfLXpGRkcyNEZ0QzF0OWxHclVfSWxNVXk2YVBGQUlWU19rTzUySVVQTVUybVFpc0ExY1ZNekVxOWNSeVRybk00dXYxdWlsanBSZmlhUzk5a3ZtNFVfSkNjdTFsbVpacG1QWk1iODFHUlZkLUhSZVJxYUUwWlBmNC1nMEM4T1Y2NGJOV05QTEc2TWlUcEd1QmRocXRBLncxQXRENkRMeld5WldDVUcwVF9FVVEifQ.mnEKhG-VeFbr1FYhRZvGmFJyCx1WhPQpcmpxzLHBfSkoflsyNojuDT6aHQfCEmA44vhdxuCuXqkYGK0JlmaBATIvqgHVRYxbXxlu2viydIOEH3jRxqUjPSpJfmwu7w6SiI63kTu2mS4pxCZNLqOGncxxFYRYCwRKSYv5IwPnQWZPfVvXohayFH_zFnYoy4jmhMe0hCYB-JbV0RZoYP5mFKNCqPdV3PSDXq8XovrvGhKVePYMaZ10IZIq2DesJazl4rR0pwanq9768cBQu3GJsxuB50Qwr4wgDI9_dmz63zBpklT-n7cEYlEmyAVlSCNofo8Jiv0jDFoanrqaAYp8zw"

def inspect_jwt(token):
    try:
        # Decode the JWT without verifying the signature
        decoded = jwt.decode(token, options={"verify_signature": False})
        print("✅ Decoded JWT payload:")
        print(decoded)

        # Check if the token has expired
        if "exp" in decoded:
            expiration_time = datetime.utcfromtimestamp(decoded["exp"])
            current_time = datetime.utcnow()
            if current_time > expiration_time:
                print("❌ Token has expired.")
            else:
                print("✅ Token is still valid (not expired).")
        else:
            print("⚠️ No expiration time found in the token.")

    except jwt.DecodeError:
        print("❌ Failed to decode the token. It may be malformed.")
    except Exception as e:
        print(f"❌ An error occurred: {e}")

# Inspect the JWT
inspect_jwt(JWT_TOKEN)
